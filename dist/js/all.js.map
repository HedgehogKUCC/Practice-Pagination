{"version":3,"sources":["index.js"],"names":["INPUT","document","querySelector","BITTON","paginationGroup","getElementById","PAGINATION","nowPage","totalPage","addEventListener","e","checkInputField","target","keyCode","init","element","IN_NUM","value","trim","innerHTML","overFivePageRender","overFivePageListener","pageRender","pageListener","ary","num","classList","push","val","class","listRender","querySelectorAll","forEach","el","dataset","pageStatus","overFivePageJudgePageStatus","overFivePageGenerateData","MAP","first","front","back","last","FRAGMENT","createDocumentFragment","li","createElement","a","setAttribute","innerText","appendChild","preBtnSet","nextBtnSet","overFivePageChange","indexOf"],"mappings":";;AAAA;AACA;AACA;AAEA,IAAMA,KAAK,GAAGC,QAAQ,CAACC,aAAT,CAAuB,wBAAvB,CAAd;AACA,IAAMC,MAAM,GAAGF,QAAQ,CAACC,aAAT,CAAuB,yBAAvB,CAAf;AACA,IAAME,eAAe,GAAGH,QAAQ,CAACI,cAAT,CAAwB,mBAAxB,CAAxB;AAEA,IAAMC,UAAU,GAAG;AACfC,EAAAA,OAAO,EAAE,CADM;AAEfC,EAAAA,SAAS,EAAE;AAFI,CAAnB;AAKAR,KAAK,CAACS,gBAAN,CAAuB,OAAvB,EAAgC,UAAUC,CAAV,EAAa;AACzCC,EAAAA,eAAe,CAACD,CAAC,CAACE,MAAH,CAAf;AACH,CAFD;AAIAZ,KAAK,CAACS,gBAAN,CAAuB,UAAvB,EAAmC,UAAUC,CAAV,EAAa;AAC5C,MAAI,EAAEA,CAAC,CAACG,OAAF,KAAc,EAAhB,CAAJ,EAAyB;AAAE;AAAS;;AACpC,MAAIF,eAAe,CAACD,CAAC,CAACE,MAAH,CAAnB,EAA+B;AAAEE,IAAAA,IAAI;AAAK;AAC7C,CAHD;AAKAX,MAAM,CAACM,gBAAP,CAAwB,OAAxB,EAAiC,YAAM;AACnCK,EAAAA,IAAI;AACP,CAFD;;AAIA,SAASH,eAAT,CAAyBI,OAAzB,EAAkC;AAC9B,MAAMC,MAAM,GAAG,CAACD,OAAO,CAACE,KAAR,CAAcC,IAAd,EAAhB;;AACA,MAAI,EAAEF,MAAM,IAAI,CAAV,IAAeA,MAAM,IAAI,GAA3B,CAAJ,EAAqC;AACjCD,IAAAA,OAAO,CAACE,KAAR,GAAgB,EAAhB;AACAb,IAAAA,eAAe,CAACe,SAAhB,GAA4B,EAA5B;AACA,WAAO,KAAP;AACH;;AACDb,EAAAA,UAAU,CAACE,SAAX,GAAuBQ,MAAvB;AACA,SAAO,IAAP;AACH;;AAED,SAASF,IAAT,GAAgB;AACZR,EAAAA,UAAU,CAACC,OAAX,GAAqB,CAArB;;AACA,MAAID,UAAU,CAACE,SAAX,GAAuB,CAA3B,EAA8B;AAC1BY,IAAAA,kBAAkB;AAClBC,IAAAA,oBAAoB;AACvB,GAHD,MAGO;AACHC,IAAAA,UAAU;AACVC,IAAAA,YAAY;AACf;AACJ;;AAED,SAASD,UAAT,GAAsB;AAClB,MAAQd,SAAR,GAA+BF,UAA/B,CAAQE,SAAR;AAAA,MAAmBD,OAAnB,GAA+BD,UAA/B,CAAmBC,OAAnB;AACA,MAAMiB,GAAG,GAAG,EAAZ;AACA,MAAIC,GAAG,GAAG,CAAV;;AAEA,SAAOA,GAAG,IAAIjB,SAAd,EAAyB;AACrB,QAAMkB,SAAS,GAAGD,GAAG,KAAKlB,OAAR,GAAkB,QAAlB,GAA6B,EAA/C;AACAiB,IAAAA,GAAG,CAACG,IAAJ,CAAS;AAAEC,MAAAA,GAAG,EAAEH,GAAP;AAAYI,MAAAA,KAAK,EAAEH;AAAnB,KAAT;AACAD,IAAAA,GAAG,IAAI,CAAP;AACH;;AAEDK,EAAAA,UAAU,CAACN,GAAD,CAAV;AACH;;AAED,SAASD,YAAT,GAAwB;AACpBtB,EAAAA,QAAQ,CAAC8B,gBAAT,CAA0B,mBAA1B,EAA+CC,OAA/C,CAAuD,UAACC,EAAD,EAAQ;AAC3DA,IAAAA,EAAE,CAACxB,gBAAH,CAAoB,OAApB,EAA6B,YAAM;AAC/B,UAAIwB,EAAE,CAACC,OAAH,CAAWN,GAAX,GAAiB,CAArB,EAAwB;AACpBtB,QAAAA,UAAU,CAACC,OAAX,GAAqB,CAAC0B,EAAE,CAACC,OAAH,CAAWN,GAAjC;AACAN,QAAAA,UAAU;AACVC,QAAAA,YAAY;AACf;AACJ,KAND;AAOH,GARD;AASH;;AAED,SAASH,kBAAT,GAA8B;AAC1B,MAAQZ,SAAR,GAA+BF,UAA/B,CAAQE,SAAR;AAAA,MAAmBD,OAAnB,GAA+BD,UAA/B,CAAmBC,OAAnB;AACA,MAAM4B,UAAU,GAAGC,2BAA2B,CAAC7B,OAAD,EAAUC,SAAV,CAA9C;AACA,MAAMgB,GAAG,GAAGa,wBAAwB,CAACF,UAAD,EAAa5B,OAAb,EAAsBC,SAAtB,CAApC;AACAsB,EAAAA,UAAU,CAACN,GAAD,CAAV;AACH;;AAED,SAASY,2BAAT,CAAqC7B,OAArC,EAA8CC,SAA9C,EAAyD;AACrD,SAAOD,OAAO,KAAK,CAAZ,GAAgB,OAAhB,GAA0BA,OAAO,IAAIC,SAAS,GAAG,CAAvB,GAA2B,OAA3B,GAAqCD,OAAO,KAAKC,SAAZ,GAAwB,MAAxB,GAAiC,MAAvG;AACH;;AAED,SAAS6B,wBAAT,CAAkCF,UAAlC,EAA8C5B,OAA9C,EAAuDC,SAAvD,EAAkE;AAC9D,MAAM8B,GAAG,GAAG;AACRC,IAAAA,KAAK,EAAE,CACH;AAAEX,MAAAA,GAAG,EAAE,CAAC,CAAR;AAAWC,MAAAA,KAAK,EAAE;AAAlB,KADG,EAEH;AAAED,MAAAA,GAAG,EAAErB,OAAP;AAAgBsB,MAAAA,KAAK,EAAE;AAAvB,KAFG,EAGH;AAAED,MAAAA,GAAG,EAAErB,OAAO,GAAG,CAAjB;AAAoBsB,MAAAA,KAAK,EAAE;AAA3B,KAHG,EAIH;AAAED,MAAAA,GAAG,EAAErB,OAAO,GAAG,CAAjB;AAAoBsB,MAAAA,KAAK,EAAE;AAA3B,KAJG,EAKH;AAAED,MAAAA,GAAG,EAAE,CAAC,CAAR;AAAWC,MAAAA,KAAK,EAAE;AAAlB,KALG,EAMH;AAAED,MAAAA,GAAG,EAAEpB,SAAP;AAAkBqB,MAAAA,KAAK,EAAE;AAAzB,KANG,EAOH;AAAED,MAAAA,GAAG,EAAE,CAAC,CAAR;AAAWC,MAAAA,KAAK,EAAE;AAAlB,KAPG,CADC;AAURW,IAAAA,KAAK,EAAE,CACH;AAAEZ,MAAAA,GAAG,EAAE,CAAC,CAAR;AAAWC,MAAAA,KAAK,EAAE;AAAlB,KADG,EAEH;AAAED,MAAAA,GAAG,EAAErB,OAAO,GAAG,CAAjB;AAAoBsB,MAAAA,KAAK,EAAE;AAA3B,KAFG,EAGH;AAAED,MAAAA,GAAG,EAAErB,OAAP;AAAgBsB,MAAAA,KAAK,EAAE;AAAvB,KAHG,EAIH;AAAED,MAAAA,GAAG,EAAErB,OAAO,GAAG,CAAjB;AAAoBsB,MAAAA,KAAK,EAAE;AAA3B,KAJG,EAKH;AAAED,MAAAA,GAAG,EAAE,CAAC,CAAR;AAAWC,MAAAA,KAAK,EAAE;AAAlB,KALG,EAMH;AAAED,MAAAA,GAAG,EAAEpB,SAAP;AAAkBqB,MAAAA,KAAK,EAAE;AAAzB,KANG,EAOH;AAAED,MAAAA,GAAG,EAAE,CAAC,CAAR;AAAWC,MAAAA,KAAK,EAAE;AAAlB,KAPG,CAVC;AAmBRY,IAAAA,IAAI,EAAE,CACF;AAAEb,MAAAA,GAAG,EAAE,CAAC,CAAR;AAAWC,MAAAA,KAAK,EAAE;AAAlB,KADE,EAEF;AAAED,MAAAA,GAAG,EAAE,CAAP;AAAUC,MAAAA,KAAK,EAAE;AAAjB,KAFE,EAGF;AAAED,MAAAA,GAAG,EAAE,CAAC,CAAR;AAAWC,MAAAA,KAAK,EAAE;AAAlB,KAHE,EAIF;AAAED,MAAAA,GAAG,EAAErB,OAAO,GAAG,CAAjB;AAAoBsB,MAAAA,KAAK,EAAE;AAA3B,KAJE,EAKF;AAAED,MAAAA,GAAG,EAAErB,OAAP;AAAgBsB,MAAAA,KAAK,EAAE;AAAvB,KALE,EAMF;AAAED,MAAAA,GAAG,EAAErB,OAAO,GAAG,CAAjB;AAAoBsB,MAAAA,KAAK,EAAE;AAA3B,KANE,EAOF;AAAED,MAAAA,GAAG,EAAE,CAAC,CAAR;AAAWC,MAAAA,KAAK,EAAE;AAAlB,KAPE,CAnBE;AA4BRa,IAAAA,IAAI,EAAE,CACF;AAAEd,MAAAA,GAAG,EAAE,CAAC,CAAR;AAAWC,MAAAA,KAAK,EAAE;AAAlB,KADE,EAEF;AAAED,MAAAA,GAAG,EAAE,CAAP;AAAUC,MAAAA,KAAK,EAAE;AAAjB,KAFE,EAGF;AAAED,MAAAA,GAAG,EAAE,CAAC,CAAR;AAAWC,MAAAA,KAAK,EAAE;AAAlB,KAHE,EAIF;AAAED,MAAAA,GAAG,EAAErB,OAAO,GAAG,CAAjB;AAAoBsB,MAAAA,KAAK,EAAE;AAA3B,KAJE,EAKF;AAAED,MAAAA,GAAG,EAAErB,OAAO,GAAG,CAAjB;AAAoBsB,MAAAA,KAAK,EAAE;AAA3B,KALE,EAMF;AAAED,MAAAA,GAAG,EAAErB,OAAP;AAAgBsB,MAAAA,KAAK,EAAE;AAAvB,KANE,EAOF;AAAED,MAAAA,GAAG,EAAE,CAAC,CAAR;AAAWC,MAAAA,KAAK,EAAE;AAAlB,KAPE;AA5BE,GAAZ;AAsCA,SAAOS,GAAG,CAACH,UAAD,CAAV;AACH;;AAED,SAASL,UAAT,CAAoBN,GAApB,EAAyB;AACrBpB,EAAAA,eAAe,CAACe,SAAhB,GAA4B,EAA5B;AACA,MAAMwB,QAAQ,GAAG1C,QAAQ,CAAC2C,sBAAT,EAAjB;AACApB,EAAAA,GAAG,CAACQ,OAAJ,CAAY,UAACC,EAAD,EAAQ;AAChB,QAAMY,EAAE,GAAG5C,QAAQ,CAAC6C,aAAT,CAAuB,IAAvB,CAAX;AACA,QAAMC,CAAC,GAAG9C,QAAQ,CAAC6C,aAAT,CAAuB,GAAvB,CAAV;AACAD,IAAAA,EAAE,CAACG,YAAH,CAAgB,UAAhB,EAA4Bf,EAAE,CAACL,GAA/B;AACAiB,IAAAA,EAAE,CAACG,YAAH,CAAgB,OAAhB,6BAA6Cf,EAAE,CAACJ,KAAhD;AACAkB,IAAAA,CAAC,CAACC,YAAF,CAAe,MAAf,EAAuB,cAAvB,EALgB,CAMhB;;AACAD,IAAAA,CAAC,CAACE,SAAF,GAAchB,EAAE,CAACL,GAAH,GAAS,CAAT,GAAaK,EAAE,CAACL,GAAhB,GAAsBK,EAAE,CAACL,GAAH,KAAW,CAAC,CAAZ,GAAgB,KAAhB,GAAwBK,EAAE,CAACL,GAAH,KAAW,CAAC,CAAZ,GAAgB,IAAhB,GAAuBK,EAAE,CAACL,GAAH,KAAW,CAAC,CAAZ,GAAgB,IAAhB,GAAuB,EAA1G;AACAiB,IAAAA,EAAE,CAACK,WAAH,CAAeH,CAAf;AACAJ,IAAAA,QAAQ,CAACO,WAAT,CAAqBL,EAArB;AACH,GAVD;AAWAzC,EAAAA,eAAe,CAAC8C,WAAhB,CAA4BP,QAA5B;AACH;;AAED,SAAStB,oBAAT,GAAgC;AAC5B8B,EAAAA,SAAS;AACTC,EAAAA,UAAU;AACVnD,EAAAA,QAAQ,CAAC8B,gBAAT,CAA0B,mBAA1B,EAA+CC,OAA/C,CAAuD,UAACC,EAAD,EAAQ;AAC3D,QAAIA,EAAE,CAACC,OAAH,CAAWN,GAAX,GAAiB,CAArB,EAAwB;AACpBK,MAAAA,EAAE,CAACxB,gBAAH,CAAoB,OAApB,EAA6B,YAAM;AAC/B4C,QAAAA,kBAAkB,CAACpB,EAAE,CAACC,OAAH,CAAWN,GAAZ,CAAlB;AACH,OAFD;AAGH;AACJ,GAND;AAOH;;AAED,SAASuB,SAAT,GAAqB;AACjBlD,EAAAA,QAAQ,CAACC,aAAT,CAAuB,yBAAvB,EAAkDO,gBAAlD,CAAmE,OAAnE,EAA4E,YAAY;AACpF,QAAI,KAAKiB,SAAL,CAAeT,KAAf,CAAqBqC,OAArB,CAA6B,SAA7B,MAA4C,CAAC,CAAjD,EAAoD;AAChDD,MAAAA,kBAAkB,CAAC/C,UAAU,CAACC,OAAX,GAAqB,CAAtB,CAAlB;AACH;AACJ,GAJD;AAKH;;AAED,SAAS6C,UAAT,GAAsB;AAClBnD,EAAAA,QAAQ,CAACC,aAAT,CAAuB,0BAAvB,EAAmDO,gBAAnD,CAAoE,OAApE,EAA6E,YAAY;AACrF,QAAI,KAAKiB,SAAL,CAAeT,KAAf,CAAqBqC,OAArB,CAA6B,SAA7B,MAA4C,CAAC,CAAjD,EAAoD;AAChDD,MAAAA,kBAAkB,CAAC/C,UAAU,CAACC,OAAX,GAAqB,CAAtB,CAAlB;AACH;AACJ,GAJD;AAKH;;AAED,SAAS8C,kBAAT,CAA4B5B,GAA5B,EAAiC;AAC7BnB,EAAAA,UAAU,CAACC,OAAX,GAAqB,CAACkB,GAAtB;AACAL,EAAAA,kBAAkB;AAClBC,EAAAA,oBAAoB;AACvB","file":"all.js","sourcesContent":["// 參考來源\n// https://shhhhh-ycy.medium.com/pagination-%E5%88%86%E9%A0%81%E5%B7%A5%E5%85%B7-d04e3f0c23b0\n// https://codepen.io/chingyuan/pen/OJVyQRQ?editors=0010\n\nconst INPUT = document.querySelector('#input_pageTotal input');\nconst BITTON = document.querySelector('#input_pageTotal button');\nconst paginationGroup = document.getElementById('pagination__group');\n\nconst PAGINATION = {\n    nowPage: 1,\n    totalPage: 0,\n};\n\nINPUT.addEventListener('input', function (e) {\n    checkInputField(e.target);\n});\n\nINPUT.addEventListener('keypress', function (e) {\n    if (!(e.keyCode === 13)) { return; }\n    if (checkInputField(e.target)) { init(); }\n});\n\nBITTON.addEventListener('click', () => {\n    init();\n});\n\nfunction checkInputField(element) {\n    const IN_NUM = +element.value.trim();\n    if (!(IN_NUM >= 1 && IN_NUM <= 100)) {\n        element.value = '';\n        paginationGroup.innerHTML = '';\n        return false;\n    }\n    PAGINATION.totalPage = IN_NUM;\n    return true;\n}\n\nfunction init() {\n    PAGINATION.nowPage = 1;\n    if (PAGINATION.totalPage > 5) {\n        overFivePageRender();\n        overFivePageListener();\n    } else {\n        pageRender();\n        pageListener();\n    }\n}\n\nfunction pageRender() {\n    const { totalPage, nowPage } = PAGINATION;\n    const ary = [];\n    let num = 1;\n\n    while (num <= totalPage) {\n        const classList = num === nowPage ? 'active' : '';\n        ary.push({ val: num, class: classList });\n        num += 1;\n    }\n\n    listRender(ary);\n}\n\nfunction pageListener() {\n    document.querySelectorAll('.pagination__item').forEach((el) => {\n        el.addEventListener('click', () => {\n            if (el.dataset.val > 0) {\n                PAGINATION.nowPage = +el.dataset.val;\n                pageRender();\n                pageListener();\n            }\n        });\n    });\n}\n\nfunction overFivePageRender() {\n    const { totalPage, nowPage } = PAGINATION;\n    const pageStatus = overFivePageJudgePageStatus(nowPage, totalPage);\n    const ary = overFivePageGenerateData(pageStatus, nowPage, totalPage);\n    listRender(ary);\n}\n\nfunction overFivePageJudgePageStatus(nowPage, totalPage) {\n    return nowPage === 1 ? 'first' : nowPage <= totalPage / 2 ? 'front' : nowPage !== totalPage ? 'back' : 'last';\n}\n\nfunction overFivePageGenerateData(pageStatus, nowPage, totalPage) {\n    const MAP = {\n        first: [\n            { val: -2, class: 'pre unclick' },\n            { val: nowPage, class: 'active' },\n            { val: nowPage + 1, class: '' },\n            { val: nowPage + 2, class: '' },\n            { val: -1, class: 'unclick' },\n            { val: totalPage, class: '' },\n            { val: -3, class: 'next' },\n        ],\n        front: [\n            { val: -2, class: 'pre' },\n            { val: nowPage - 1, class: '' },\n            { val: nowPage, class: 'active' },\n            { val: nowPage + 1, class: '' },\n            { val: -1, class: 'unclick' },\n            { val: totalPage, class: '' },\n            { val: -3, class: 'next' },\n        ],\n        back: [\n            { val: -2, class: 'pre' },\n            { val: 1, class: '' },\n            { val: -1, class: 'unclick' },\n            { val: nowPage - 1, class: '' },\n            { val: nowPage, class: 'active' },\n            { val: nowPage + 1, class: '' },\n            { val: -3, class: 'next' },\n        ],\n        last: [\n            { val: -2, class: 'pre' },\n            { val: 1, class: '' },\n            { val: -1, class: 'unclick' },\n            { val: nowPage - 2, class: '' },\n            { val: nowPage - 1, class: '' },\n            { val: nowPage, class: 'active' },\n            { val: -3, class: 'next unclick' },\n        ],\n    };\n    return MAP[pageStatus];\n}\n\nfunction listRender(ary) {\n    paginationGroup.innerHTML = '';\n    const FRAGMENT = document.createDocumentFragment();\n    ary.forEach((el) => {\n        const li = document.createElement('li');\n        const a = document.createElement('a');\n        li.setAttribute('data-val', el.val);\n        li.setAttribute('class', `pagination__item ${el.class}`);\n        a.setAttribute('href', 'javascript:;');\n        // a.setAttribute('href', '/coupon.php?usablePage=' + el.val);\n        a.innerText = el.val > 0 ? el.val : el.val === -1 ? '...' : el.val === -2 ? '<<' : el.val === -3 ? '>>' : '';\n        li.appendChild(a);\n        FRAGMENT.appendChild(li);\n    });\n    paginationGroup.appendChild(FRAGMENT);\n}\n\nfunction overFivePageListener() {\n    preBtnSet();\n    nextBtnSet();\n    document.querySelectorAll('.pagination__item').forEach((el) => {\n        if (el.dataset.val > 0) {\n            el.addEventListener('click', () => {\n                overFivePageChange(el.dataset.val);\n            });\n        }\n    });\n}\n\nfunction preBtnSet() {\n    document.querySelector('#pagination__group .pre').addEventListener('click', function () {\n        if (this.classList.value.indexOf('unclick') === -1) {\n            overFivePageChange(PAGINATION.nowPage - 1);\n        }\n    });\n}\n\nfunction nextBtnSet() {\n    document.querySelector('#pagination__group .next').addEventListener('click', function () {\n        if (this.classList.value.indexOf('unclick') === -1) {\n            overFivePageChange(PAGINATION.nowPage + 1);\n        }\n    });\n}\n\nfunction overFivePageChange(num) {\n    PAGINATION.nowPage = +num;\n    overFivePageRender();\n    overFivePageListener();\n}\n"]}